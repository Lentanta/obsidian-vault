#### Note links
```dataview
list from [[]] and !outgoing([[]])
```
## IAM & AWS CLI
IAM
Root account 
User
![[Screenshot 2024-08-14 at 10.50.24.png]]
IAM: Permissions
Define the permissions of users
Don't give permission more than user need

IAM Dashboard
IAM is not a global service
Not a best practice to use the root user
UI: Users 
-> create user 
-> I want to create an IAM user 
-> Create a group
![[Screenshot 2024-08-14 at 16.27.26.png]]
## MFA devices options
---
- Virtual MFA device
- U2F
- Hardware Key Fob MFA
- AWS GovCloud
## Access AWS
---
Three options:
- AWS Management Console (password + MFA)
- AWS Command Line Interface (CLI) (access key)
- AWS Software Developer Kit (SDK) (access key)

How to create an access key?
- Select user -> Security Credentials -> Create access key
## AWS CloudShell
---
Updating...
## IAM Roles
---
Create Role -> attach policies
## IAM Security Tools
---
- Credentials report
- Access Advisor
![[Screenshot 2024-08-16 at 10.34.34.png]]
## IAM
--- 
- User: mapped to the physical user, has a password for the AWS console
- Groups: contains users only
- Policies: JSON doc that outlines permissions for users or groups
- Roles: for EC2 instances or AWS services
- Access Keys: access AWS using the CLI or SDK
- Audit: Credential report & Access Advisor
## Budget setup
---
Billing and Cost Management section
- Budget: set budgets to get alert to email
## AWS EC2
---
**Instance types**
Ex: m5.2xlarge
- m: instance class
- 5: generation
- 2xlarge: size within the instance class
## Security Groups
---
- Only contain allow rules
- Can reference by IP or by security group
- Can be attached to mulitple instances
- Locked down to a region / VPC combination
- Live outside the EC2
- Good to maitain one separate security group for SSH access
By default:
- All inbound traffic is blocked
- All outbound traffic is authorised
Port:
- 22 = SSH
- 21 = FTP (File Transfer Protocal)
- 22 = SFTP 
- 80 = HTTP
- 443 = HTTPS
- 3389 - RDP (For window)
## SSH EC2
---
- Generate key pair and dowload
- `chmod 400 <file-key>.pem`
- `ssh -i <file-key>.pem ec2-user@<ec2-ipv4>`
## Modify EC2 IAM role
---
Actions -> security -> Modify IAM role
![[Screenshot from 2024-08-19 15-42-24.png]]
### Instances options
On-demaned Instances:
- Pay for what you use
- Highest cost and no upfont payment
- No long-term commitment
- For **short-term** and **un-interrupted workloads**
Reserved Instances:
- Reserve a spesific instance attributes (Type, Region, Tenancy, OS)
- Reservation Period (From 1 - 3 years)
- Payment options: No Upfront, Partial Upfront, All Upfront
- Reserved Instance's Scope: **Regional** or **Zonal**
- For steady-state usage applications
Saving Plans Instances:
- Same as Reserved Instances
- Commit to a certain type of usage
- Usage beyond is billed at **On-demaned** price
- Locked to a specific instance family & AWS region
Spot Instances:
- Can lose at any point of time if your max price is less than the current spot price
- The cheapest intances
- For workloads that are resilient to failure
Dedicated Hosts:
- A physical server
- Allow address comliance requirement and use server-bound software licenses
- Purchasing options: On-demand, Reserved
- Most expensive option
- For software that have complicated licensing model
Deicated Instances:
- Different from Dedicated Hosts
- May share hardware with other instances in same account
- No control over instance placement#
![[Screenshot from 2024-08-19 18-08-46.png]]
Capacity Resvervations:
- Reserve On-Demand instances capacity in a specific AZ (Avaliable Zone)
- No time commitment
- Charged at On-Demand rate whether you run it or not
- For short-term, un-interrupted workloads that need to be in a specific AZ
## EC2 Spot Instances
---
- Can only cancel EC2SI request that are open, active, or disabled.
- **Cancelling a EC2SI Request does not terminate instances**
### Spot Fleets
![[Screenshot from 2024-08-19 18-39-10.png]]
## Elastic IP
---
Not recommend using Elastic IP
- EC2 instance -> Asociate Elastic IP address
## Placement Groups
---
EC2 instance placement strategies:
**Cluster**: All E2 instances are in the same AZ
- Pros: 
	- Great network
- Cons: 
	- If the AZ fails, all instances fails at the same time
- Use case: 
	- Big Data job that need to complete fast
	- Application that needs extremely low latency and high network between instance
**Spread**: All EC2 instances will be in different hardware
- Pros:
	- Can span across AZ
	- Reduced risk is simltaneous faiure
	- EC2 Instances are on different physical hardware
- Cons:
	- Limited to 7 intances per AZ per placement group
- Use cases:
	- Application that needs to maximize high availability
	- Critical applications where each instance must be isolated from failure from each other
**Partition**:
![[Screenshot from 2024-08-21 15-34-16.png]]
- Pros:
	- Up to 7 partitions per AZ
	- Span across mulitiple AZs in the same region
	- Up to 100s of EC2 
- Cons:
	- 
- Use cases: